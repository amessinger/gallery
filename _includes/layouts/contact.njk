---
layout: layouts/base.njk
---

<h1>Contact</h1>

{{email}}

<style>
  .hidden {
    display: none;
  }
</style>

<form name="contact" method="POST" netlify-honeypot="bot-field" data-netlify="true">
  <p class="hidden">
    <label>Donâ€™t fill this out if you're human: <input name="bot-field" /></label>
  </p>
  <p>
    <label>Name: <input type="text" name="name" /></label>
  </p>
  <p>
    <label>Email: <input type="text" name="email" /></label>
  </p>
  <p>
    <label>Message: <textarea name="message"></textarea></label>
  </p>
  <p>
    <button type="submit">Send</button>
  </p>
  <p class="success hidden">
    {{success}}
  </p>
  <p class="failure hidden">
    {{failure}}
  </p>
</form>

<script>
document.addEventListener('submit', e => {
   
  let form = e.target;
  let submitButton = form.querySelector('button[type="submit"]')

  submitButton.disabled = true

  fetch(form.action, {
    method: form.method,
    body: new FormData(form)
  })
  .then(function(response) {
    submitButton.disabled = false
    if (200 <= response.status && response.status < 300) {
      document.querySelector('.success').classList.remove('hidden')
      form.reset()
    } else {
      document.querySelector('.failure').classList.remove('hidden')
    }
  })

  e.preventDefault();

});
</script>